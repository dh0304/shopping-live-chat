# 쇼핑 라이브 채팅 프로젝트

[우아한형제들 기술블로그: 배민쇼핑라이브를 만드는 기술: 채팅 편](https://techblog.woowahan.com/5268/)을 참고하여 실시간 채팅 시스템을 단계적으로 구현하는 프로젝트입니다.

## 기술 스택

- **Backend**: Spring Boot 3, Java 21, Spring WebSocket, STOMP Protocol

## 단계별 아키텍처 및 구현

### [Phase 0](https://github.com/dh0304/shopping-live-chat/tree/feat/phase0)

#### 기능 구현
- [X] 단일 서버/메모리 기반 실시간 채팅
- [X] STOMP을 통한 기본 브로드캐스트
- [X] 메모리만 사용 (DB X)
- [X] React로 방 입장/채팅 송수신
- [X] 시청자 수 카운트 

### Phase 1

#### 기능 구현
- [ ] DB 연결 및 엔티티 사용
- [ ] 채팅 데이터 저장
- [ ] 입장 시 세션 생성
  - 회원가입 기능 X (가입한 회원 정보는 DB에 미리 생성)
  - 로그인 시 세션만 생성
- [ ] 좋아요 기능
- [ ] 채팅 페이징 기능 (이 시점에 필요한 건지 고민)
- [ ] 기본 레이트리밋 기능

### Phase 2

#### 기능 구현
- [ ] AWS 배포 (단일 EC2 인스턴스)
- [ ] 모니터링 구축
- [ ] 부하 테스트 및 개선
  - [ ] 개선1
  - [ ] 개선2...
  - [ ] 웹소켓 자동 재연결(Ping/Pong, 연속 재시도, Back-off, Heart-beat 검사 등) 

### Phase 3

#### 기능 구현
- [ ] 어드민 기능 구현
  - [ ] 어드민 세션 처리 기능
  - [ ] 공지 작성, 수정, 삭제 기능
  - [ ] ban, unban 기능
  - [ ] 어드민 채팅 색상
  - [ ] 실시간 지표

### Phase 4

#### 기능 구현
- [ ] 부하 테스트 및 개선
  - [ ] Redis 레이트 리밋
  - [ ] 어드민 패널 채팅 페이징 처리
  - [ ] 채팅 배치 저장
  - [ ] 토큰 재발행?
     
## Phase 5

#### 기능 구현
- [ ] 분산 환경 구축(AWS ALB, Redis 등 기술 추가)
  - [ ] Redis Sentinel HA (싱글 Redis SPOF 제거)
  - [ ] 서버 스케일 아웃(2대 수평 확장)

## Phase 6

#### 기능 구현
- [ ] 부하 테스트 및 개선

## Phase 7

#### 기능 구현
- [ ] MSA 구축


## 주요 기능

### 핵심 기능
- 라이브 방 생성/시작/종료
- 실시간 텍스트 채팅
- 좋아요/시청자 수 카운트
- 채팅 로그 저장 및 조회


